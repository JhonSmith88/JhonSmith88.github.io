<!DOCTYPE html>
<!--[if lt IE 7]> <html class="ie6"> <![endif]-->
<!--[if IE 7]>    <html class="ie7"> <![endif]-->
<!--[if IE 8]>    <html class="ie8"> <![endif]-->
<!--[if IE 9]>    <html class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html class=""><!--<![endif]-->
  <head>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <meta charset="utf-8" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Libros - 8 de Noviembre</title>

    <!-- Standard Favicon -->
    <link rel="icon" type="image/x-icon" href="images/favicon.png" />

    <!-- For iPhone 4 Retina display: -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="114x114"
      href="images//apple-touch-icon-114x114-precomposed.png"
    />

    <!-- For iPad: -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="72x72"
      href="images//apple-touch-icon-72x72-precomposed.png"
    />

    <!-- For iPhone: -->
    <link
      rel="apple-touch-icon-precomposed"
      href="images//apple-touch-icon-57x57-precomposed.png"
    />

    <!-- Library - Google Font Familys -->

    <!-- Library - Bootstrap v3.3.5 -->
    <link rel="stylesheet" type="text/css" href="libraries/lib.css" />

    <!-- Custom - Common CSS -->
    <link rel="stylesheet" type="text/css" href="css/plugins.css" />
    <link rel="stylesheet" type="text/css" href="css/navigation-menu.css" />

    <!-- Custom - Theme CSS -->
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="stylesheet" type="text/css" href="css/shortcodes.css" />

    <!--[if lt IE 9]>
      <script src="js/html5/respond.min.js"></script>
    <![endif]-->
    <style>
      .social-icons {
        position: fixed;
        top: 90px;
        right: 0;
      }
      .social-icons a {
        display: inline-block;
        margin-left: 10px;
      }
    </style>
  </head>

  <body data-offset="200" data-spy="scroll" data-target=".ow-navigation">
    <!-- Loader -->
    <div id="site-loader" class="load-complete">
      <div class="loader">
        <div class="loader-inner ball-clip-rotate">
          <div></div>
        </div>
      </div>
    </div>
    <!-- Loader /- -->

    <a id="top"></a>

	<!-- Header Section -->
	<header id="header" class="header-section container-fluid no-padding">
		<!-- SidePanel -->
		<div id="slidepanel">
			<!-- Top Header -->
			<div class="top-header container-fluid no-padding">
				<!-- Container -->
				<div class="container">
					<div class="row">
						<div class="col-md-7 col-sm-12">
							<p>Bienvenido a la renovación en la Educación</p>
						</div>
						<div class="col-md-5 col-sm-12">
							<a href="mailto:info@ourdomain.com" title="Info@ourdomain.com"><i class="fa fa-envelope"></i>admin@col8nov.com</a>
							<a href="tel:+011234567896" title="+011234567896"><i class="fa fa-phone"></i> (+593) 07 2976 015</a>
						</div>
					</div>
				</div><!-- Container -->
			</div><!-- Top Header /- -->
			<!-- Middel Header /- -->
			<div class="middle-header container-fluid no-padding">
				<div class="container">
					<div class="row">
						<div class="col-md-5">
							<a href="index.html" title="8 de Noviembre"><img src="images/logo.png" alt="Logo" /></a>
						</div>
						<div class="col-md-7 col-sm-12 header-content">
							<div class="header-cnt-box">
								<i class="fas fa-graduation-cap"></i>
								<button style="background-color: #d20f26; color: #fff; border-radius: 4px; padding: 10px 20px; font-size: 16px;" onclick="window.open('https://8noviembre.sharepoint.com/sites/8nov', '_blank')">PLATAFORMA</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div><!-- SidePanel /- -->
		<!-- Container -->
		<div class="container">
			<!-- nav -->
      <nav class="navbar navbar-default ow-navigation" id="menu-Navbar">
				<div id="loginpanel" class="desktop-hide">
					<div class="right" id="toggle">
						<a id="slideit" href="#slidepanel"><i class="fo-icons fa fa-inbox"></i></a>
						<a id="closeit" href="#slidepanel"><i class="fo-icons fa fa-close"></i></a>
					</div>
				</div>
				<div class="navbar-header">
					<button aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse" class="navbar-toggle collapsed" type="button">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a href="index.html" title="8 de Noviembre" class="navbar-brand">8 de Noviembre</a>
				</div>
				<div class="navbar-collapse collapse" id="navbar">
					<ul class="nav navbar-nav">
						<li><a href="index.html" title="INICIO">INICIO</a></li>
						<li class="dropdown">
							<a href="about.html" title="¿Quienes Somos?" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">¿QUIÉNES SOMOS?</a>
							<i class="ddl-switch fa fa-angle-down"></i>
							<ul class="dropdown-menu">
								<li><a href="about.html#propositoMisional">Propósito Misional</a></li>
								<li><a href="about.html#comunidad">Nuestra Historia</a></li>
								<li><a href="about.html#instrumentosGestion">Instrumentos de Gestión Escolar</a></li>
                                <li><a href="about.html#simbolosInstitucionales">Simbolos Institucionales</a></li>
							</ul>
						</li>
						<li class="dropdown">
							<a href="#" title="OFERTA EDUCATIVA" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">OFERTA EDUCATIVA</a>
							<i class="ddl-switch fa fa-angle-down"></i>
							<ul class="dropdown-menu">
								<li><a href="egbs.html" title="EGBS">Educación General Básica Superior </a></li>
								<hr>
								<li><a href="agro.html" title="Produccion Agropecuaria">Producción Agropecuaria</a></li>
								<li><a href="mecanica.html" title="Mecanizado">Mecanizado y Construcciones Metálicas</a></li>
                                <li><a href="ciencias.html" title="Ciencias">Bachillerato en Ciencias</a></li>

							</ul>
						</li>
						<li class="dropdown">
							<a href="#" title="DIRECTIVOS Y DOCENTES" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">DIRECTIVOS Y DOCENTES</a>
							<i class="ddl-switch fa fa-angle-down"></i>
							<ul class="dropdown-menu">
								<li><a href="docentes.html" title="EGBS">Directivos Institucionales</a></li>
								<li><a href="docentes.html?cargo=docentes" title="Produccion Agropecuaria">Personal Docente</a></li>
								<li><a href="docentes.html?cargo=dece" title="Mecanizado">Departamento de Consejería Estudiantil</a></li>
                                <li><a href="administrativo.html" title="Administrativo y de Apoyo">Administrativo y de Apoyo</a></li>
							</ul>
						</li>
						<li class="dropdown">
							<a href="#" title="Proyectos" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">Proyectos</a>
							<i class="ddl-switch fa fa-angle-down"></i>
							<ul class="dropdown-menu">
								<li><a href="proyectos.html?proyecto=ex-alumnos" title="Proyectos de Ex-Alumnos">Ex-Alumnos</a></li>
								<li><a href="proyectos.html?proyecto=productivos" title="Proyectos Productivos">Productivos</a></li>
								<li><a href="proyectos.html?proyecto=ambientales" title="Proyectos Ambientales">Ambientales</a></li>
								<li><a href="proyectos.html?proyecto=culturales" title="Proyectos Culturales">Culturales</a></li>
                                <li><a href="proyectos.html?proyecto=deportivos" title="Proyectos Deportivos">Deportivos</a></li>
                                <li><a href="proyectos.html?proyecto=educativos" title="Proyectos Educativos">Educativos</a></li>
                                <li><a href="proyectos.html?proyecto=participacion" title="Proyectos Participación Estudiantil">Programas de Participación Estudiantil</a></li>
							</ul>
						</li>
						<li class="dropdown">
							<a href="#" title="Proyectos" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">Recursos</a>
							<i class="ddl-switch fa fa-angle-down"></i>
							<ul class="dropdown-menu">
								<li><a href="biblioteca.html" title="Biblioteca" class="activeList">Biblioteca</a></li>
								<li><a href="#" title="Proyectos Culturales">Documentos</a></li>
							</ul>
						</li>
						<li><a href="blog.html" title="Blog">Blog</a></li>
						<li><a href="contact-us.html" title="Contactenos">CONTÁCTENOS</a></li>
					</ul>
				</div><!--/.nav-collapse -->
			</nav><!-- nav /- -->
		</div><!-- Container /- -->
	</header><!-- Header Section /- -->

    <main class="site-main page-spacing">
      <!-- Page Banner Section -->
      <div class="page-banner blog-single-banner container-fluid no-padding" id="page-banner">
        <h2>Blog de novedades</h2>
      </div>
      <!-- Banner Section /- -->

      <div class="section-padding"></div>

      <!-- Blog Section -->
      <div class="container-fluid no-padding blog-single">
        <!-- container -->
        <div class="container">
          <div class="row">
            <!-- Content Area -->
            <div class="content-area col-md-8 col-sm-7">
              <article class="type-post">
                <div class="entry-content">
                  <h3 class="entry-title" id="tituloLibro"></h3>
                  <div id="portada"></div>
                  <div class="entry-meta" id="informacion-libro">
                    <div>
                      Autor: <a href="#" title="autor"></a>
                    </div>
                    <div>
                      <a href="#" title="Comments"> Luis Aguirre</a>
                    </div>
                    <div>
                      <a href="#" title="11 Likes">11 Likes</a>
                    </div>
                  </div>
                  <div id="resumen-libro"></div>
                </div>
                <div class="post-social">
                  <h4>Compartir el post</h4>
                  <ul>
                    <li>
                      <a href="#" title="Facebook"
                        ><i class="fa fa-facebook"></i
                      ></a>
                    </li>
                    <li>
                      <a href="#" title="Twitter">
                        <i class="fa-brands fa-x-twitter"></i>
                      </a>
                    </li>
                    <li>
                      <a href="#" title="WhatsApp">
                        <i class="fa fa-whatsapp"></i>
                      </a>
                    </li>
                  </ul>
                </div>
              </article>
              <!-- About Author -->
              <div class="about-author">
                <img
                  alt="author"
                  width="176"
                  height="176"
                  src="images/proyectos/biblioteca-digital.png"
                />
                <a href="biblioteca.html">Elaboración del catálogo digital de la biblioteca</a>
                <p>
                  Un grupo de estudiantes de nuestra institución llevó a cabo un proyecto innovador que ha revolucionado la manera en la que se gestiona y accede a la información en su biblioteca.
                </p>
                <ul>
                  <li>
                    <a href="#" title="Facebook"
                      ><i class="fa fa-facebook"></i
                    ></a>
                  </li>
                  <li>
                    <a href="#" title="Twitter">
                      <i class="fa-brands fa-x-twitter"></i>
                    </a>
                  </li>
                  <li>
                    <a href="#" title="WhatsApp">
                      <i class="fa fa-whatsapp"></i>
                    </a>
                  </li>
                </ul>
              </div>
              <!-- About Author /- -->
            </div>
            <!-- Content Area /- -->
            <!-- Widget Area -->
            <div class="col-md-4 col-sm-5 widget-area">
              <!-- Widget Search -->
              <aside class="widget widget_search">
                <h3 class="widget-title">Buscar</h3>
                <div class="input-group">
                  <input id="titulo-libro"
                    type="text"
                    placeholder="Busca un libro"
                    class="form-control"
                  />
                  <span class="input-group-btn">
                    <button id="buscar-libro" type="button" class="btn btn-default">
                      <i class="icon icon-Search"></i>
                    </button>
                  </span>
                </div>
              </aside>
              <!-- widget Search /- -->
              <!-- Widget Categories -->
              <aside class="widget widget_categories">
                <h3 class="widget-title">Libros Recomendados</h3>
                <ul id="libros-recomendados"></ul>
              </aside>
              <!-- Widget Categories -->
              <!-- Widget Posts -->
              <aside class="widget widget_posts">
                <h3 class="widget-title">Ultimas Novedades</h3>
                <div class="latest-content">
                  <a title="Post Cover" href="blog-single.html"
                    ><img
                      alt="latest-post-1"
                      width="79"
                      height="79"
                      src="images/blog-1-latest-post1.jpg"
                  /></a>
                  <h3>
                    <a
                      title="Can you tell me how to get how to get"
                      href="blog-single.html"
                      >Cosecha de mango en la granja
                    </a>
                  </h3>
                  <span>April 20, 2016</span>
                </div>
                <div class="latest-content">
                  <a title="Post Cover" href="blog-single.html"
                    ><img
                      alt="latest-post-2"
                      width="79"
                      height="79"
                      src="images/blog-1-latest-post2.jpg"
                  /></a>
                  <h3>
                    <a
                      title="On my way where the air is sweet"
                      href="blog-single.html"
                      >Cosecha de Tomates en la granja</a
                    >
                  </h3>
                  <span>April 19, 2016</span>
                </div>
                <div class="latest-content">
                  <a title="Post Cover" href="blog-single.html"
                    ><img
                      alt="latest-post-3"
                      width="79"
                      height="79"
                      src="images/blog-1-latest-post3.jpg"
                  /></a>
                  <h3>
                    <a
                      title="The Love Boat soon making another run"
                      href="blog-single.html"
                      >presentacion del RIEGO</a
                    >
                  </h3>
                  <span>April 19, 2016</span>
                </div>
              </aside>
              <!-- Widget Posts -->
              <!-- Widget Posts -->
              <aside class="widget widget_tags">
                <h3 class="widget-title">Actividades populares</h3>
                <div class="tags">
                  <a href="#" title="Bricks">Ferias</a>
                  <a href="#" title="Buildings">Feria del libro</a>
                  <a href="#" title="Cost">Cosecha</a>
                  <a href="#" title="Painting">Siembra</a>
                  <a href="#" title="Elegant">Riego</a>
                  <a href="#" title="Fire">Ignauracion</a>
                  <a href="#" title="Graphic">Parrilladas</a>
                  <a href="#" title="Technology">Tecnologia</a>
                </div>
              </aside>
              <!-- Widget Posts -->
            </div>
            <!-- Widget Area /- -->
          </div>
        </div>
        <!-- container /- -->
        <div class="section-padding"></div>
      </div>
      <!-- Latest News Section /- -->
    </main>

	<!-- Footer Section -->
	<div class="footer-section container-fluid no-padding">
		<!-- Container -->
		<div class="container">
			<div class="footer-callout">
				<h4><img src="images/footer-callout-ic.png" width="44" height="40" alt="Call Out Ic" /> <span>por nuestra <b>excelencia</b> Académica</span></h4>
				<a href="contact-us.html" title="contact us">CONTÁCTENOS</a>
			</div>
			
		</div><!-- Container /- -->
		<div class="footer-bottom container-fluid no-padding">
			<div class="container">
				<div class="row">
					<div class="col-md-2 col-sm-12 col-xs-12">
						<p>&copy; 2024- 8 de Noviembre</p>
					</div>
					<div class="col-md-10 col-sm-12 col-xs-12">
						<!-- nav -->
						<nav class="navbar navbar-default ow-navigation">
							<div class="navbar-header">
								<button aria-controls="navbar" aria-expanded="false" data-target="#ftr-navbar" data-toggle="collapse" class="navbar-toggle collapsed" type="button">
									<span class="sr-only">Toggle navigation</span>
									<span class="icon-bar"></span>
									<span class="icon-bar"></span>
									<span class="icon-bar"></span>
								</button>
							</div>
							<div class="navbar-collapse collapse navbar-right" id="ftr-navbar">
								<ul class="nav navbar-nav">
									<li><a href="index.html" title="home">INICIO</a></li>
									<li><a href="contact-us.html" title="Contact Us">CONTÁCTENOS</a></li>
								</ul>
							</div><!--/.nav-collapse -->
						</nav><!-- nav /- -->
					</div>
				</div>
			</div>
		</div>
	</div><!-- Footer Section /- -->

    <!-- JQuery v1.11.3 -->
    <script src="js/jquery.min.js"></script>

    <!-- Library JS -->
    <script src="libraries/lib.js"></script>

    <!-- Library - Theme JS -->
    <script src="js/functions.js"></script>

    <script>
      $(document).ready(function(){

        function cargarLibros(){
          var archivoJSON = 'static/biblioteca.json';
          var librosFiltrados;
          var datosJSON; 
          // Realizar la solicitud para obtener el archivo JSON utilizando fetch
          if(!localStorage.getItem('datosJSON')){ 
              fetch(archivoJSON)
                  .then(response => {
                      // Verificar si la solicitud fue exitosa
                      if (!response.ok) {
                          throw new Error('La solicitud no fue exitosa');
                      }
                      // Convertir la respuesta a un objeto JSON
                      return response.json();
                  })
                  .then(datos => {
                      // Asignar los datos a la variable global
                      return datosJSON = datos;
                      localStorage.setItem('datosJSON', JSON.stringify(datos));
                  })
                  .catch(error => {
                      console.error('Ocurrió un error:', error);
                  });
          }else{
              return datosJSON = JSON.parse(localStorage.getItem('datosJSON'));
          }
        }

        function recomendarLibros(){
          var librosLista;
          var urlParams = new URLSearchParams(window.location.search);
          var codigo_get = urlParams.get('id'); 
          var libroPost;
          var filtroAmbito;
          var filtroAutor;
          var filtroCodigo;
          librosLista = cargarLibros();
          console.log(librosLista);
          libroPost = librosLista.find(function(elemento) {
            return elemento["ID"].replace(/\s/g, "") === codigo_get;
          });
          console.log("libro",libroPost);
          var ambito = libroPost["AMBITO"];
          var autores = libroPost["AUTORES"];
          codigo_get = codigo_get.replace(/\s/g, "");
          var codigoEstante = libroPost["CODIGO"][0];
          console.log(codigoEstante);
          filtroAmbito = obtenerElementosAleatorios(librosLista,5,"AMBITO", ambito);
          filtroAutor = obtenerElementosAleatorios(librosLista,5,"AUTORES", autores);
          filtroCodigo = obtenerElementosAleatorios(librosLista,5,"CODIGO", codigoEstante);
           

          var jsonFinal = filtroAmbito.concat(filtroAutor, filtroCodigo).flat();

          librosAleatorios = obtenerElementosAleatorios(librosLista,5,"",""); 

          librosAleatorios.map(function(libros){ 
            $("#libros-recomendados").append(`<li><a href='libros.html?codigo=${libros["CODIGO"].replace(/\s/g, "")}' title='Building'>${libros["TITULO LIBRO"].toLocaleLowerCase()}</a></li>`);
          });

        }

        
        
        function mostrarInformacion(){
          var librosLista = cargarLibros();
          var urlParams = new URLSearchParams(window.location.search);
          var codigo_get = urlParams.get('id'); 
          libroPost = librosLista.find(function(elemento) {
            return elemento["ID"].replace(/\s/g, "") === codigo_get;
          });
          console.log(libroPost);
          $("#tituloLibro").text(libroPost["TITULO LIBRO"]);
          $("#portada").html(`<center><img src="images/libros/${libroPost["IMAGEN"].replace(/\s/g, "")}" onerror="this.style.display='none';" height="400" style="
              justify-content: center;
              align-self: center;
              height: 407px;
              margin-bottom: 26px;
          "></center>`);
          $("#informacion-libro").html(`<div class="">
                      Autor: <a href="biblioteca.html?autor=${libroPost["AUTORES"]}" title="Autor">${libroPost["AUTORES"]}</a>
                    </div>
                    <div class="">
                      <a href="biblioteca.html?categoria=${libroPost["AMBITO"]}" title="Categoria"> ${libroPost["AMBITO"]}</a>
                    </div>
                    <div class="">
                      <a title="Código">${libroPost["CODIGO"]}</a>
                    </div>`);
          $("#resumen-libro").html(`<p>${libroPost["RESUMEN"]}</p>`)
        }

        // Función para obtener elementos aleatorios
        function obtenerElementosAleatorios(json, cantidad, filtro, busqueda) {
          var listaFiltro;
          var elementosAleatorios = [];
          var indicesAleatorios = [];

          if(filtro=="" && busqueda==""){
            listaFiltro = json;
          }else{
            listaFiltro = json.filter(function(libro){
              return libro[filtro].includes(busqueda);  
            });
          }

          if(cantidad > listaFiltro.length){
            cantidad = listaFiltro.length;
          }
          
          while (indicesAleatorios.length < cantidad) {
            var indice = Math.floor(Math.random() * listaFiltro.length);
            if (!indicesAleatorios.includes(indice)) {
              indicesAleatorios.push(indice);
            }
          }
          
          // Obtener elementos correspondientes a los índices aleatorios
          for (var i = 0; i < indicesAleatorios.length; i++) {
            elementosAleatorios.push(listaFiltro[indicesAleatorios[i]]);
          }
            
          return elementosAleatorios;

        }
      
        function escogerFrase(){
          var archivoFrases = 'static/frases.json';
          var frasesJson;
    
          if(!localStorage.getItem('datosFrases')){
            fetch(archivoFrases)
            .then(response =>{
              if(!response.ok){
                throw new Error('La solicitud no fue exitosa');
              }
              return response.json();
            })
            .then(datos=>{
              frasesJson = datos;
              localStorage.setItem('datosFrases',JSON.stringify(datos));
              fraseAleatoria(frasesJson);
            }).catch(error => {
              console.error('Ocurrió un error:', error);
            });
          }else{
            frasesJson = JSON.parse(localStorage.getItem('datosFrases'));
            fraseAleatoria(frasesJson);
          }
        }
        function fraseAleatoria(datosJSON){
          var tipo = "lectura";
          var listaFiltro;
          var frase;
          listaFiltro = datosJSON.filter(function(libro){
            return libro["Tipo"].includes(tipo);
          });
          console.log(listaFiltro);
          var indice = Math.floor(Math.random() * listaFiltro.length);
          frase = listaFiltro[indice];
    
          $("#page-banner").html(`<h2>"${frase["Frase"]}." - ${frase["Autor"]}</h2>`);
        }
		

        $("#buscar-libro").click(function(){
          var titulo = $("#titulo-libro").val();
          var ruta = "biblioteca.html?titulo="+titulo;
          window.location.href = ruta;
        });

        $("#titulo-libro").keypress(function(event) {
            if (event.which === 13) { // 13 es el código de la tecla Enter
              var titulo = $("#titulo-libro").val();
              var ruta = "biblioteca.html?titulo="+titulo;
              window.location.href = ruta;
            }
        });

        recomendarLibros();
        mostrarInformacion();
        escogerFrase();
      });




    </script>

    <div class="social-icons">
      <a href="https://www.facebook.com/PAGINA_DE_FACEBOOK" target="_blank"
        ><img src="images/Facebook.png" alt="Facebook"
      /></a>
    </div>
  </body>
</html>
