<!DOCTYPE html>
<!--[if lt IE 7]> <html class="ie6"> <![endif]-->
<!--[if IE 7]>    <html class="ie7"> <![endif]-->
<!--[if IE 8]>    <html class="ie8"> <![endif]-->
<!--[if IE 9]>    <html class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html class=""><!--<![endif]-->

<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <meta charset="utf-8" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>Blog - 8 de Noviembre</title>

  <!-- Standard Favicon -->
  <link rel="icon" type="image/x-icon" href="../images/favicon.png" />

  <!-- For iPhone 4 Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../images//apple-touch-icon-114x114-precomposed.png" />

  <!-- For iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../images//apple-touch-icon-72x72-precomposed.png" />

  <!-- For iPhone: -->
  <link rel="apple-touch-icon-precomposed" href="../images//apple-touch-icon-57x57-precomposed.png" />

  <!-- Library - Google Font Familys -->

  <!-- Library - Bootstrap v3.3.5 -->
  <link rel="stylesheet" type="text/css" href="../libraries/lib.css" />

  <!-- Custom - Common CSS -->
  <link rel="stylesheet" type="text/css" href="../css/plugins.css" />
  <link rel="stylesheet" type="text/css" href="../css/navigation-menu.css" />

  <!-- Custom - Theme CSS -->
  <link rel="stylesheet" type="text/css" href="../style.css" />
  <link rel="stylesheet" type="text/css" href="../css/shortcodes.css" />

  <!-- Lightbox -->
  <script src="../libraries/lightbox-plus-jquery.js"></script>
  <link href="../libraries/lightbox.css" rel="stylesheet" />


  <!-- Flipbook StyleSheet -->
  <link href="../libraries/dflip/css/dflip.min.css" rel="stylesheet" type="text/css">

  <!-- Icons Stylesheet -->
  <link href="../libraries/dflip/css/themify-icons.min.css" rel="stylesheet" type="text/css">

  <!--[if lt IE 9]>
      <script src="js/html5/respond.min.js"></script>
    <![endif]-->
  <style>
    
    .social-icons {
      position: fixed;
      top: 90px;
      right: 0;
    }

    .social-icons a {
      display: inline-block;
      margin-left: 10px;
    }

    .project-content ul {
      color: #777777;
      letter-spacing: 0.64px;
      line-height: 26px;
      margin-bottom: 30px;
    }

    .project-content p {
      margin-bottom: 30px !important;
      font-size: 17px !important;
    }

    .project-content h3 {
      margin-bottom: 10px !important;
    }

    .table td {
      color: #777777;
    }

    .table th {
      color: black;
      background-color: beige
    }

    .panel {
      margin-top: 30px;
    }

    th,
    td {
      border: 1px solid #cbc9c9;
      /* Añade un borde de 1px sólido a todas las celdas */
      padding: 8px;
      /* Espaciado interno para mejorar la apariencia */
      text-align: left;
      /* Alineación del texto a la izquierda */
    }

    .lb-outerContainer {
      width: min-content !important;
      height: auto !important;
    }

    .lb-container {
      height: 75vh !important;
    }

    .lb-image {
      height: 75vh !important;
      width: auto !important;
      object-fit: cover;
    }

    .video-container {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%;
      /* Proporción 16:9 (9/16 = 0.5625) */
      height: 0;
      margin-bottom: 30px;
    }

    .video-container iframe {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
    }

    .page-banner {
      background-position: center;
      background-size: contain !important;
      background-image: url(../images/blog-single-banner.jpg) !important;
      background-repeat: no-repeat;
      position: relative;
      text-align: center;
      min-height: 278px;
      align-content: center;
      width: 100%;
      min-height: unset;
    }

    .page-banner h2 {
      padding: 0px;
      font-size: 2.4em;
      line-height: 50px;
    }
    .btn-disqus{
      font-weight: 600 !important;
      text-align: center;
      border: 1px solid transparent;
      padding: .7rem 1.5rem;
      font-size: 1.59375rem;
      line-height: 1.5;
      border-radius: 2px;
      width: 100%;
      color: #fff;
      background-color: #2586da;
    }

    @media screen and (max-width: 700px) {
      .page-banner h2 {
        padding: 0px;
        font-size: 2.5em;
        line-height: 50px;
      }

      .page-banner {
        background-size: cover !important;
        background-position: left;
        background-image: url(../images/blog-single-banner.jpg) !important;
        background-repeat: no-repeat;
        position: relative;
        text-align: center;
        align-content: center;
        width: 100%;
        height: 100%;
      }
    }
  </style>
</head>

<body data-offset="200" data-spy="scroll" data-target=".ow-navigation">
  <!-- Loader -->
  <div id="site-loader" class="load-complete">
    <div class="loader">
      <div class="loader-inner ball-clip-rotate">
        <div></div>
      </div>
    </div>
  </div>
  <!-- Loader /- -->

  <a id="top"></a>

  <!-- Header Section -->
  <header id="header" class="header-section container-fluid no-padding">
    <!-- SidePanel -->
    <div id="slidepanel">
      <!-- Top Header -->
      <div class="top-header container-fluid no-padding">
        <!-- Container -->
        <div class="container">
          <div class="row">
            <div class="col-md-7 col-sm-12">
              <p>Bienvenido a la renovación en la Educación</p>
            </div>
            <div class="col-md-5 col-sm-12">
              <a href="mailto:info@ourdomain.com" title="Info@ourdomain.com"><i
                  class="fa fa-envelope"></i>admin@col8nov.com</a>
              <a href="tel:+011234567896" title="+011234567896"><i class="fa fa-phone"></i> (+593) 07 2976 015</a>
            </div>
          </div>
        </div><!-- Container -->
      </div><!-- Top Header /- -->
      <!-- Middel Header /- -->
      <div class="middle-header container-fluid no-padding">
        <div class="container">
          <div class="row">
            <div class="col-md-5">
              <a href="../index.html" title="8 de Noviembre"><img src="../images/logo.png" alt="Logo" /></a>
            </div>
            <div class="col-md-7 col-sm-12 header-content">
              <div class="header-cnt-box">
                <i class="fas fa-graduation-cap"></i>
                <button
                  style="background-color: #d20f26; color: #fff; border-radius: 4px; padding: 10px 20px; font-size: 16px;"
                  onclick="window.open('https://8noviembre.sharepoint.com/sites/8nov', '_blank')">PLATAFORMA</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div><!-- SidePanel /- -->
    <!-- Container -->
    <div class="container">
      <!-- nav -->
      <nav class="navbar navbar-default ow-navigation" id="menu-Navbar">
        <div id="loginpanel" class="desktop-hide">
          <div class="right" id="toggle">
            <a id="slideit" href="#slidepanel"><i class="fo-icons fa fa-inbox"></i></a>
            <a id="closeit" href="#slidepanel"><i class="fo-icons fa fa-close"></i></a>
          </div>
        </div>
        <div class="navbar-header">
          <button aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse"
            class="navbar-toggle collapsed" type="button">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="../index.html" title="8 de Noviembre" class="navbar-brand">8 de Noviembre</a>
        </div>
        <div class="navbar-collapse collapse" id="navbar">
          <ul class="nav navbar-nav">
            <li><a href="../index.html" title="INICIO">INICIO</a></li>
            <li class="dropdown">
              <a href="../about.html" title="¿Quienes Somos?" class="dropdown-toggle" role="button" aria-haspopup="true"
                aria-expanded="false">¿QUIÉNES SOMOS?</a>
              <i class="ddl-switch fa fa-angle-down"></i>
              <ul class="dropdown-menu">
                <li><a href="../about.html#propositoMisional">Propósito Misional</a></li>
                <li><a href="../about.html#comunidad">Nuestra Historia</a></li>
                <li><a href="../about.html#instrumentosGestion">Instrumentos de Gestión Escolar</a></li>
                <li><a href="../about.html#uniformeInstitucional">Uniforme Institucional</a></li>
                <li><a href="../about.html#simbolosInstitucionales">Simbolos Institucionales</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" title="OFERTA EDUCATIVA" class="dropdown-toggle" role="button" aria-haspopup="true"
                aria-expanded="false">OFERTA EDUCATIVA</a>
              <i class="ddl-switch fa fa-angle-down"></i>
              <ul class="dropdown-menu">
                <li><a href="../egbs.html" title="EGBS">Educación General Básica Superior </a></li>
                <hr>
                <li><a href="../agro.html" title="Produccion Agropecuaria">Producción Agropecuaria</a></li>
                <li><a href="../mecanica.html" title="Mecanizado">Mecanizado y Construcciones Metálicas</a></li>
                <li><a href="../ciencias.html" title="Ciencias">Bachillerato en Ciencias</a></li>

              </ul>
            </li>
            <li class="dropdown">
              <a href="#" title="DIRECTIVOS Y DOCENTES" class="dropdown-toggle" role="button" aria-haspopup="true"
                aria-expanded="false">DIRECTIVOS Y DOCENTES</a>
              <i class="ddl-switch fa fa-angle-down"></i>
              <ul class="dropdown-menu">
                <li><a href="../docentes.html" title="EGBS">Directivos Institucionales</a></li>
                <li><a href="../docentes.html?cargo=docentes" title="Produccion Agropecuaria">Personal Docente</a></li>
                <li><a href="../docentes.html?cargo=dece" title="Mecanizado">Departamento de Consejería Estudiantil</a>
                </li>
                <li><a href="../administrativo.html" title="Administrativo y de Apoyo">Administrativo y de Apoyo</a>
                </li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" title="Proyectos" class="dropdown-toggle" role="button" aria-haspopup="true"
                aria-expanded="false">Proyectos</a>
              <i class="ddl-switch fa fa-angle-down"></i>
              <ul class="dropdown-menu">
                <li><a href="../proyectos.html?proyecto=ex-alumnos" title="Proyectos de Ex-Alumnos">Ex-Alumnos</a></li>
                <li><a href="../proyectos.html?proyecto=productivos" title="Proyectos Productivos">Productivos</a></li>
                <li><a href="../proyectos.html?proyecto=ambientales" title="Proyectos Ambientales">Ambientales</a></li>
                <li><a href="../proyectos.html?proyecto=culturales" title="Proyectos Culturales">Culturales</a></li>
                <li><a href="../proyectos.html?proyecto=deportivos" title="Proyectos Deportivos">Deportivos</a></li>
                <li><a href="../proyectos.html?proyecto=educativos" title="Proyectos Educativos">Educativos</a></li>
                <li><a href="../proyectos.html?proyecto=participacion"
                    title="Proyectos Participación Estudiantil">Programas de Participación Estudiantil</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" title="Proyectos" class="dropdown-toggle" role="button" aria-haspopup="true"
                aria-expanded="false">Recursos</a>
              <i class="ddl-switch fa fa-angle-down"></i>
              <ul class="dropdown-menu">
                <li><a href="../biblioteca.html" title="Biblioteca">Biblioteca</a></li>
                <li><a href="#" title="Proyectos Culturales">Documentos</a></li>
              </ul>
            </li>
            <li class="active"><a href="../blog.html" title="Blog">Blog</a></li>
            <li><a href="../contact-us.html" title="Contactenos">CONTÁCTENOS</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </nav><!-- nav /- -->
    </div><!-- Container /- -->
  </header><!-- Header Section /- -->

  <main class="site-main page-spacing">
    <!-- Page Banner Section -->
    <div class="page-banner blog-single-banner container-fluid no-padding" id="page-banner">
      <h2>Blog de novedades</h2>
    </div>
    <!-- Banner Section /- -->

    <div class="section-padding"></div>

    <!-- Blog Section -->
    <div class="container-fluid no-padding blog-single">
      <!-- container -->
      <div class="container">
        <div class="row">
          <!-- Content Area -->
          <div class="content-area col-md-8 col-sm-7">
            <article class="type-post">
              <div class="entry-content">
                <h3 class="entry-title"></h3>
                <div id="portada"></div>
                <div class="entry-meta" id="informacion-libro">
                  
                </div>
                <div id="resumen-libro"></div>
              </div>
              <div class="post-social">
                <h4>Compartir el post</h4>
                <ul>
                  <li>
                    <a href="#" title="Facebook"><i class="fa fa-facebook"></i></a>
                  </li>
                  <li>
                    <a href="#" title="Twitter">
                      <i class="fa-brands fa-x-twitter"></i>
                    </a>
                  </li>
                  <li>
                    <a href="#" title="WhatsApp">
                      <i class="fa fa-whatsapp"></i>
                    </a>
                  </li>
                </ul>
              </div>
            </article>
            <!-- About Author -->
            <!--################################-->
            <!-- About Author /- -->
            
            <div class="row">
              <div class="col-md-12 col-sm-10 col-xs-12 col-md-offset-0 col-sm-offset-1 ">
                <div id="disqus_thread">
                  <button id="boton-cargar-disqus" class="btn-disqus">Cargar comentarios</button>
                </div>
              </div>
          </div>

          </div>
          <!-- Content Area /- -->
          <!-- Widget Area -->
          <div class="col-md-4 col-sm-5 widget-area">
            <!-- Widget Search -->
            <!-- widget Search /- -->
            <!-- Widget Categories -->
            <aside class="widget widget_posts" id="novedades">
              <h3 class="widget-title">Novedades</h3>
            </aside>
            <!-- Widget Categories -->
            <!-- Widget Posts -->
            <aside class="widget widget_posts" id="last-post">
              <h3 class="widget-title">Ultimos Proyectos</h3>
            </aside>
            <!-- Widget Posts -->
            <!-- Widget Posts -->
            <aside class="widget widget_tags">
              <h3 class="widget-title">Actividades populares</h3>
              <div id="tags" class="tags">
              </div>
            </aside>
            <!-- Widget Posts -->
          </div>
          <!-- Widget Area /- -->
        </div>
      </div>
      <!-- container /- -->
      <div class="section-padding"></div>
      
    </div>
    <!-- Latest News Section /- -->

    <!-- Client Section -->
    <div class="client-section container-fluid no-padding">
      <!-- Container -->
      <div class="container">
        <div class="client-carousel">
        </div>
      </div><!-- Container /- -->
    </div><!-- Client Section /- -->
    <br><br>
  </main>

  <!-- Footer Section -->
  <div class="footer-section container-fluid no-padding">
    <!-- Container -->
    <div class="container">
      <div class="footer-callout">
        <h4><img src="../images/footer-callout-ic.png" width="44" height="40" alt="Call Out Ic" /> <span>por nuestra
            <b>excelencia</b> Académica</span></h4>
        <a href="../contact-us.html" title="contact us">CONTÁCTENOS</a>
      </div>

    </div><!-- Container /- -->
    <div class="footer-bottom container-fluid no-padding">
      <div class="container">
        <div class="row">
          <div class="col-md-2 col-sm-12 col-xs-12">
            <p>&copy; 2024- 8 de Noviembre</p>
          </div>
          <div class="col-md-10 col-sm-12 col-xs-12">
            <!-- nav -->
            <nav class="navbar navbar-default ow-navigation">
              <div class="navbar-header">
                <button aria-controls="navbar" aria-expanded="false" data-target="#ftr-navbar" data-toggle="collapse"
                  class="navbar-toggle collapsed" type="button">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
              </div>
              <div class="navbar-collapse collapse navbar-right" id="ftr-navbar">
                <ul class="nav navbar-nav">
                  <li><a href="../index.html" title="home">INICIO</a></li>
                  <li><a href="../contact-us.html" title="Contact Us">CONTÁCTENOS</a></li>
                </ul>
              </div><!--/.nav-collapse -->
            </nav><!-- nav /- -->
          </div>
        </div>
      </div>
    </div>
  </div><!-- Footer Section /- -->

  <!-- JQuery v1.11.3 -->
  <script src="../js/jquery.min.js"></script>

  <!-- Library JS -->
  <script src="../libraries/lib.js"></script>

  <!-- Library - Theme JS -->
  <script src="../js/functions.js"></script>

  <!-- Flipbook main Js file -->
  <script src="../libraries/dflip/js/dflip.min.js" type="text/javascript"></script>


  <script>
    var is_disqus_loaded = false;
    var comprobarID = "";
    $(document).ready(function () {
      function subTitulos(data) {
        var listaTitulos = [{ fotografias: "", videos: "", recursos: "", anexos: "" }];
        (data.fotografias.length == 0) ? listaTitulos[0].fotografias = " " : listaTitulos[0].fotografias = "Galeria de Imágenes";
        (data.recursos.length == 0) ? listaTitulos[0].recursos = " " : listaTitulos[0].recursos = "Recursos";
        (data.videos.length == 0) ? listaTitulos[0].videos = " " : listaTitulos[0].videos = "Videos";
        (data.anexos.length == 0) ? listaTitulos[0].anexos = " " : listaTitulos[0].anexos = "Anexos";
        return listaTitulos;
      }
      function mostrarInformacion() {
        var archivoBlogs = '../static/blogs.json';
        var archivosProyectos = '../static/proyectos.json';
        
        var data;
        fetch(archivosProyectos)
          .then(response => {
            if (!response.ok) {
              throw new Error('La solicitud no fue exitosa');
            }
            return response.json();
          })
          .then(datos => {
            ordenarProyectosFecha(datos);
          })

        fetch(archivoBlogs)
          .then(response => {
            if (!response.ok) {
              throw new Error('La solicitud no fue exitosa');
            }
            return response.json();
          })
          .then(datos => {
            ordenarBlogsFecha(datos);
            obtenerEtiquetas(datos);
            var urlParams = new URLSearchParams(window.location.search);
            var codigo_get = urlParams.get('id');
            comprobarID = datos.filter(elemento => elemento.id === codigo_get);
            data = datos;
          })
          .then(datos=>{
            if(comprobarID.length > 0){
              mostrarBlog(data);
            }else{
              $(".post-social").css("display","none");
              $("#disqus_thread").html("");
              console.log("Este blog no existe");
            }
          }).catch(error => {
            console.error('Ocurrió un error:', error);
          });

      }

      function mostrarBlog(datos) {
        var proyectosLista = datos;
        var urlParams = new URLSearchParams(window.location.search);
        var codigo_get = urlParams.get('id');
        proyectoPost = proyectosLista.find(function (elemento) {
          return elemento["id"].replace(/\s/g, "") === codigo_get;
        });
        var listSubTiulos = subTitulos(proyectoPost);
        var galeria = "";
        var contenido = "";
        var portada = "";
        var recursosDetalles = "";
        var cabeceraDetalles = "";
        var recursos = "";
        var videos = "";
        var anexos = "";
        var categorias = "";
        var etiquetas = "";

        if (proyectoPost["fotografias"].length != 0) {
          for (i = 0; i < proyectoPost["fotografias"][0]["imagenes"].length; i++) {
            if (proyectoPost["fotografias"][0]["tipo"] == "galeria") {
              galeria += `<div style="display: inline-block;margin:10px">
                          <a href="../images/blogs/${proyectoPost["fotografias"][0]["imagenes"][i]["ruta"]}" data-imagen='${proyectoPost["fotografias"][0]["imagenes"][i]["ruta"]}' data-lightbox='image-1'>
                              <img style="max-height: 30vh" src="../images/blogs/${proyectoPost["fotografias"][0]["imagenes"][i]["ruta"]}">    
                          </a>
                      </div>`;
            } else if (proyectoPost["fotografias"][0]["tipo"] == "cascada") {
              galeria += `<div style="text-align: center;"">
                          <a href="../images/blogs/${proyectoPost["fotografias"][0]["imagenes"][i]["ruta"]}" data-imagen='${proyectoPost["fotografias"][0]["imagenes"][i]["ruta"]}' data-lightbox='image-1'>
                              <img style="max-height: 65vh" src="../images/blogs/${proyectoPost["fotografias"][0]["imagenes"][i]["ruta"]}">    
                          </a>
                          <p> ${proyectoPost["fotografias"][0]["imagenes"][i]["titulo"]}</p>
                      </div>`;;
            }

          }
          galeria = `<div style="width:100%">${galeria}</div>`;
        }


        if (proyectoPost["descripcion"].length != 0) {
          for (i = 0; i < proyectoPost["descripcion"].length; i++) {
            if (proyectoPost["descripcion"][i]["tipo"] == "parrafo") {
              contenido += `<h3 style="margin-top:20px">${proyectoPost["descripcion"][i]["subtitulo"]}</h3>
                      <p>${proyectoPost["descripcion"][i]["contenido"].replace(/\n/g, "<br>")}</p>`;
            }
            else if (proyectoPost["descripcion"][i]["tipo"] == "imagen") {
              contenido += `<div style="text-align: center;width: auto">
                          <a href="../images/blogs/${proyectoPost["descripcion"][i]["contenido"]}" data-imagen='${proyectoPost["descripcion"][i]["contenido"]}' data-lightbox='image-1'>
                              <img style="width: auto;max-height: 65vh;" src="../images/blogs/${proyectoPost["descripcion"][i]["contenido"]}">    
                              <p> ${proyectoPost["descripcion"][i]["subtitulo"]}</p>
                          </a>
                      </div>`;

            }
            else if (proyectoPost["descripcion"][i]["tipo"] == "lista") {
              var formato = proyectoPost["descripcion"][i]["formato"];
              var lista = "";
              for (j = 0; j < proyectoPost["descripcion"][i]["contenido"].length; j++) {
                lista += `<li><p style="margin-bottom:10px !important">${proyectoPost["descripcion"][i]["contenido"][j]}</p></li>`;
              }
              if (formato == "ordenada") {
                contenido += `<ol style="color: black;">${lista}</ol>`;
              } else {
                contenido += `<ul style="color: black;">${lista}</ul>`;
              }

            }
            else if (proyectoPost["descripcion"][i]["tipo"] == "cita") {
              var urlCita = proyectoPost["descripcion"][i]["contenido"][0]["ruta"];
              var displayOption = (urlCita == "") ? "none" : "";
              urlCita = (urlCita == "") ? "" : `href="${urlCita}" target="_blank"`;
              contenido += `<div class=" col-md-12 col-sm-12">
                        <article class="type-post" style="padding: 0px 15px 0px 0px;margin: 0px 12px 25px 12px !important;">
                          <div class="entry-content" style="padding: 0px;">
                            <blockquote style="margin: 10px 10px 20px 10px;padding: 20px 25px 10px 20px;">
                              <p style="text-align:center;line-height: 25px;font-size: 16px !important;margin-bottom: 10px !important;">
                                <i style="font-size: 69px;left: -8px;">“</i>${proyectoPost["descripcion"][i]["contenido"][0]["texto"].replace(/\n/g, "<br>")}
                              </p>
                              <a ${urlCita}" style="display:${displayOption};font-style: italic;font-family: 'Lora', serif;font-weight: bold;font-size: 16px;float: right;">
                                Ver
                                <i class="fa fa-long-arrow-right" style="position: unset;float: right;font-size: 26px;margin-left: 6px;"></i> 
                              </a>
                            </blockquote>
                          </div>
                        </article>
                      </div>`;
            }
            else if (proyectoPost["descripcion"][i]["tipo"] == "tabla") {
              var items = proyectoPost["descripcion"][i]["contenido"];
              var primerObjeto = items[0];
              var cabecera = Object.keys(primerObjeto);
              for (j = 0; j < cabecera.length; j++) {
                var elemento = cabecera[j];
                cabecera[j] = elemento.charAt(0).toUpperCase() + elemento.slice(1);
              }
              for (j = 0; j < cabecera.length; j++) {
                cabeceraDetalles += `<th>${cabecera[j]}</th>`
              }
              cabeceraDetalles = "<tr>" + cabeceraDetalles + "<tr>";
              cabecera = Object.keys(primerObjeto);
              var objeto;
              for (j = 0; j < items.length; j++) {
                recursosDetalles += "<tr>";
                for (k = 0; k < cabecera.length; k++) {
                  objeto = items[j];
                  objeto = objeto[cabecera[k]];
                  if (isNaN(objeto)) {
                    objeto = objeto.charAt(0).toUpperCase() + objeto.slice(1);
                  }
                  recursosDetalles += "<td>" + objeto + "</td>";
                }
                recursosDetalles += "<tr>";
              }
              contenido += `<div class="panel panel-default"><table class="table">${cabeceraDetalles} ${recursosDetalles}</table></div>`
            } else if (proyectoPost["descripcion"][i]["tipo"] == "twitter" || proyectoPost["descripcion"][i]["tipo"] == "facebook") {
              contenido += `<h3 style="margin-top:20px;margin-bottom:30px">${proyectoPost["descripcion"][i]["subtitulo"]}</h3><center style="margin-bottom: 40px;">${proyectoPost["descripcion"][i]["contenido"]}</center>`
            }
          }

        }

        if (proyectoPost["recursos"].length != 0) {
          for (i = 0; i < proyectoPost["recursos"].length; i++) {
            recursos += `<li><a href="../static/documents/${proyectoPost["recursos"][i]["ruta"]}" download>${proyectoPost["recursos"][i]["titulo"]} <i class="fa fa-download" aria-hidden="true"></i></a></li>`;
          }

        }

        if (proyectoPost["documento"] != undefined && proyectoPost["documento"] != "") {
          portada = `<!--Normal FLipbook-->
                    <div class="_df_book" height="500" webgl="true" backgroundcolor="teal"
                        source="../static/documents/${proyectoPost["documento"]}"
                        id="df_manual_book">
                    </div>`
        } else {
          portada = `<div><center><img style="width: auto;max-height: 65vh;" src="../images/blogs/${proyectoPost["portada"]}" style="margin-bottom:30px"></img></center></div>`;
        }

        for (i = 0; i < proyectoPost["videos"].length; i++) {
          if (proyectoPost["videos"][i]["fuente"] == "youtube") {
            videos += `<p>${proyectoPost["videos"][i]["titulo"]}</p>
                    <div class="video-container"><iframe src="${proyectoPost["videos"][i]["ruta"]}" 
                      title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; 
                      encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
                    </iframe></div>`;
          } else if (proyectoPost["videos"][i]["fuente"] == "facebook") {
            videos += `<p>${proyectoPost["videos"][i]["titulo"]}</p>
                    <div class="video-container">
                      <iframe src="https://www.facebook.com/plugins/video.php?height=314&href=${proyectoPost["videos"][i]["ruta"]}%2F&show_text=false&width=560&t=0" width="560" height="314" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share" allowFullScreen="true"></iframe>
                    </div>
                    `;
          }
        }

        for (i = 0; i < proyectoPost["anexos"].length; i++) {
          anexos += `<li><a href="${proyectoPost["anexos"][i]["ruta"]}" target="_blank">${proyectoPost["anexos"][i]["titulo"]}<i class="fa fa-link"></i></a></li>`;
        }


        if (proyectoPost["categoria"] != "" && proyectoPost["categoria"] != undefined) {
          categorias = `
                    <div style="position: relative;padding: 10px;padding-left: 110px;width: 100%;float: left;">
                      <div style="color: black;position: absolute;left: 0;top: 10px;text-align: center;width: 100px;text-transform: uppercase;font-size: 12px;padding: 5px 10px;background: #ffb400;border-radius: 4px;">
                        Categoria:
                      </div>
                      <div>
                        <a href="../blog.html?categoria=${proyectoPost["categoria"]}" style="text-decoration: none;cursor: pointer;font-size: 13px;font-weight: 400;background: #eee;color: #4d4f59;padding: 5px 6px;margin: 0 3px 8px 0;border-radius: 4px;display: inline-block;">
                          ${proyectoPost["categoria"]}
                        </a>
                      </div>
                    </div>`;
        }

        if (proyectoPost["etiquetas"] != "" && proyectoPost["etiquetas"] != undefined) {
          for (i = 0; i < proyectoPost["etiquetas"].length; i++) {
            etiquetas += `<a href="../blog.html?etiquetas=${proyectoPost["etiquetas"][i]}" style="text-decoration: none;cursor: pointer;font-size: 13px;font-weight: 400;background: #eee;color: #4d4f59;padding: 5px 6px;margin: 0 3px 8px 0;border-radius: 4px;display: inline-block;">
                          ${proyectoPost["etiquetas"][i]}
                        </a>`;
          }
          etiquetas = `<div style="position: relative;padding: 10px;padding-left: 110px;width: 100%;float: left;">
                      <div style="color: black;position: absolute;left: 0;top: 10px;text-align: center;width: 100px;text-transform: uppercase;font-size: 12px;padding: 5px 10px;background: #ffb400;border-radius: 4px;">
                        Etiquetas:
                      </div>
                      <div>
                        ${etiquetas}
                      </div>
                    </div>`;
        }

        let autores = proyectoPost["autores"];
        let listAutores = "";
        for(i=0;i<autores.length;i++){
            listAutores += `<a href="#">${autores[i]}</a>` ;
            if(autores.length == 2 && i < 1){
                listAutores += " y ";
            }else if(autores.length > 2 && i < (autores.length -2)){
                listAutores += " , ";
            }
            else if(i == (autores.length-2)){
                listAutores += " y ";
            }
            
        }

        $(".entry-content").html(`<h3 class="entry-title">${proyectoPost["tema"]}</h3>
                <div class="entry-meta">
                    <div>Autores: ${listAutores} | ${proyectoPost["fecha publicacion"]}</div>
                </div>
                ${portada}
                <div class="project-content">
                    ${contenido}
                     
                    <h3>${listSubTiulos[0].fotografias}</h3>
                      ${galeria}
                      <h3>${listSubTiulos[0].videos}</h3>
                      ${videos}
                      <h3>${listSubTiulos[0].recursos}</h3>
                      <ul>
                        ${recursos}
                      </ul>
                      <h3>${listSubTiulos[0].anexos}</h3>
                      <ul>
                      ${anexos}  
                    </ul>
                    <hr>
                    ${categorias}
                    ${etiquetas}
                    `);


        if (proyectoPost["documento"] != undefined && proyectoPost["documento"] != "") {
          var source_pdf = `../static/documents/${proyectoPost["documento"]}`;
          var option_pdf = { webgl: true, backgroundColor: "#eeeeee", };
          var flipBook_pdf = $("#df_manual_book").flipBook(source_pdf, option_pdf);
          //$("#df_manual_book").css("background-color","black")
        }
      }

      function escogerFrase() {
        var archivoFrases = '../static/frases.json';
        var frasesJson;

        if (!localStorage.getItem('datosFrases')) {
          fetch(archivoFrases)
            .then(response => {
              if (!response.ok) {
                throw new Error('La solicitud no fue exitosa');
              }
              return response.json();
            })
            .then(datos => {
              frasesJson = datos;
              localStorage.setItem('datosFrases', JSON.stringify(datos));
              fraseAleatoria(frasesJson);
            }).catch(error => {
              console.error('Ocurrió un error:', error);
            });
        } else {
          frasesJson = JSON.parse(localStorage.getItem('datosFrases'));
          fraseAleatoria(frasesJson);
        }
      }

      function fraseAleatoria(datosJSON) {
        var tipo = "lectura";
        var listaFiltro;
        var frase;
        listaFiltro = datosJSON.filter(function (libro) {
          return libro["Tipo"].includes(tipo);
        });
        var indice = Math.floor(Math.random() * listaFiltro.length);
        frase = listaFiltro[indice];

        $("#page-banner").html(`<h2>"${frase["Frase"]}." - ${frase["Autor"]}</h2>`);
      }

      function ordenarProyectosFecha(json) {
        var listaOrdenada = json.map(item => {
          // Desestructurar el objeto y mantener todas las propiedades
          let { "fecha inicio": fechaInicio, ...restoPropiedades } = item;
          // Si hay fecha inicio, la convertimos a un objeto Date
          if (fechaInicio !== "") {
            var partesFecha = fechaInicio.split('/');
            fechaInicio = new Date(partesFecha[2], partesFecha[1] - 1, partesFecha[0]); // Año, mes, día
          }
          // Retornar un nuevo objeto con la fecha inicio modificada y el resto de las propiedades intactas
          return {
            "fecha inicio": fechaInicio,
            ...restoPropiedades
          };
        });

        // Ordenar los elementos por fecha de forma descendente
        listaOrdenada.sort((a, b) => b["fecha inicio"] - a["fecha inicio"]);
        var listaOrdenada = listaOrdenada.slice(0, 5);

        // Agregar elementos sin fecha al final del array ordenado
        var ultimosPost = "";
        for (i = 0; i < listaOrdenada.length; i++) {
          if (listaOrdenada[i]["fecha inicio"]) {
            var fecha = listaOrdenada[i]["fecha inicio"];
            $("#last-post").append(`<div class="latest-content">
                    <a title="${listaOrdenada[i]["tema"]}" href="../proyectos/detalles.html?id=${listaOrdenada[i]["id"]}" target="_blank"><img alt="latest-post-${listaOrdenada[i]["id"]}" width="79" height="79" src="../images/proyectos/${listaOrdenada[i]["portada"]}"></a>
                    <h3>
                      <a title="${listaOrdenada[i]["tema"]}" href="../proyectos/detalles.html?id=${listaOrdenada[i]["id"]}" target="_blank">${listaOrdenada[i]["tema"]}
                      </a>
                    </h3>
                    <span style="text-transform: capitalize;">${fecha.toLocaleString('es-ES', { month: 'long' })} ${fecha.getDate()},${fecha.getFullYear()}</span>
                  </div>`);
          }
        }
      }
      //recomendarLibros();

      function ordenarBlogsFecha(json) {

        var listaOrdenada = json.map(item => {
          // Desestructurar el objeto y mantener todas las propiedades
          let { "fecha publicacion": fechaInicio, ...restoPropiedades } = item;
          // Si hay fecha inicio, la convertimos a un objeto Date
          if (fechaInicio !== "") {
            var partesFecha = fechaInicio.split('/');
            fechaInicio = new Date(partesFecha[2], partesFecha[1] - 1, partesFecha[0]); // Año, mes, día
          }
          // Retornar un nuevo objeto con la fecha inicio modificada y el resto de las propiedades intactas
          return {
            "fecha publicacion": fechaInicio,
            ...restoPropiedades
          };
        });

        // Ordenar los elementos por fecha de forma descendente
        listaOrdenada.sort((a, b) => b["fecha publicacion"] - a["fecha publicacion"]);
        var listaOrdenada = listaOrdenada.slice(0, 5);

        // Agregar elementos sin fecha al final del array ordenado
        var ultimosPost = "";
        for (i = 0; i < listaOrdenada.length; i++) {
          if (listaOrdenada[i]["fecha publicacion"]) {
            var fecha = listaOrdenada[i]["fecha publicacion"];
            $("#novedades").append(`<div class="latest-content">
                    <a title="${listaOrdenada[i]["tema"]}" href="detalles.html?id=${listaOrdenada[i]["id"]}" target="_blank"><img alt="latest-post-${listaOrdenada[i]["id"]}" style="max-height: 100px;max-width: 80px !important;" src="../images/blogs/${listaOrdenada[i]["portada"]}"></a>
                    <h3>
                      <a title="${listaOrdenada[i]["tema"]}" href="detalles.html?id=${listaOrdenada[i]["id"]}" target="_blank">${listaOrdenada[i]["tema"]}
                      </a>
                    </h3>
                    <span style="text-transform: capitalize;">${fecha.toLocaleString('es-ES', { month: 'long' })} ${fecha.getDate()},${fecha.getFullYear()}</span>
                  </div>`);
          }
        }
      }


      mostrarInformacion();
      escogerFrase();

      var imagen = new Image();
      imagen.src = "../images/blog-single-banner.jpg";
      imagen.onload = function () {
        var imagenAncho = this.width;
        var imagenAlto = this.height;
        var aspectoImagen = imagenAncho / imagenAlto;
        aspectoImagen = "" + aspectoImagen + "";
        // Calcular la altura del div en función del ancho de la pantalla y el tamaño
        // Establecer la altura del div
        $('#page-banner').css("aspect-ratio", aspectoImagen);
      }


      function seleccionarElementosAleatorios(lista) {
        // Verificar si la lista tiene menos de 8 elementos
        if (lista.length <= 8) {
          return lista; // Devolver la lista original si tiene 8 o menos elementos
        }

        var elementosSeleccionados = []; // Lista para almacenar los elementos seleccionados
        var indicesSeleccionados = {}; // Objeto para rastrear los índices seleccionados

        // Mientras la lista de elementos seleccionados no tenga 8 elementos
        while (elementosSeleccionados.length < 8) {
          // Generar un índice aleatorio dentro del rango de la lista
          var indice = Math.floor(Math.random() * lista.length);

          // Verificar si este índice ya fue seleccionado
          if (!indicesSeleccionados[indice]) {
            // Agregar el elemento correspondiente al índice a la lista de elementos seleccionados
            elementosSeleccionados.push(lista[indice]);
            // Marcar el índice como seleccionado
            indicesSeleccionados[indice] = true;
          }
        }

        return elementosSeleccionados;
      }

      function obtenerEtiquetas(datos) {
        var palabrasUnicas = {};
        // Iterar sobre cada elemento del JSON
        datos.forEach(function (elemento) {
          // Iterar sobre cada palabra en la lista de etiquetas del elemento
          elemento["etiquetas"].forEach(function (palabra) {
            // Agregar la palabra al objeto de palabras únicas
            palabrasUnicas[palabra] = true;
          });
        });

        // Obtener las palabras únicas del objeto
        var listaPalabras = Object.keys(palabrasUnicas);
        listaPalabras = seleccionarElementosAleatorios(listaPalabras);
        // Mostrar la lista de palabras
        listaPalabras.forEach(function (etiqueta) {
          $("#tags").append(`<a href="../blog.html?etiquetas=${etiqueta}" title="${etiqueta}">${etiqueta}</a>`)
        })
      }

      function logosSponsor() {
        fetch("../static/aprocinadores.json")
          .then(response => {
            if (!response.ok) {
              throw new Error('La solicitud no fue exitosa');
            }
            return response.json();
          })
          .then(data => {
            data.map(function (sponsor) {
              let nombre = sponsor.nombre;
              let logo = sponsor.logo;
              let link = sponsor.link;

              $(".client-carousel").prepend(`<a href="${link}" title="Logo"><img src="../images/sponsor/${logo}" height="80" alt="${nombre}" /></a>`);
            });
          }).then(data => {
            carrusel();
          })


      }

      function carrusel() {
        if ($(".client-section").length) {
          $(".client-carousel").owlCarousel({
            loop: true,
            nav: true,
            dots: false,
            margin: 0,
            smartSpeed: 200,
            autoplay: true,
            responsive: {
              0: {
                items: 2
              },
              480: {
                items: 3
              },
              640: {
                items: 3
              },
              992: {
                items: 6
              }
            }
          })

          $(".client-section").each(function () {
            var $this = $(this);
            var myVal = $(this).data("value");
            $this.appear(function () {
              $(".client-section").addClass("animated bounceInLeft");
            });
          });
        }
      };


      //////////////////////////////////
      //Disqus
      $("#boton-cargar-disqus").click(function(){
        if(comprobarID.length > 0){
          var urlParams = new URLSearchParams(window.location.search);
          var blogId = urlParams.get('id');
          cargarDisqusParaBlog(blogId);
        }
      });
      function cargarDisqusParaBlog(blogId) {
        if (!is_disqus_loaded) {
          is_disqus_loaded = true;
          var disqus_config = function () {
              this.page.url = 'https://jhonsmith88.github.io/blog/detalles.html?id=' + blogId; // URL completa de la página del blog
              this.page.identifier = 'blog_' + blogId; // Identificador único para esta página de blog
          };

          // Crear y cargar el script de Disqus
          var d = document, s = d.createElement('script');
          s.src = 'https://colegio8noviembre.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        } else {
          console.log('El blog con ID ' + blogId + ' no existe.');
        }
      }


      //////////////////////////////////

      logosSponsor();
      
    });




  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <div class="social-icons">
    <a href="https://www.facebook.com/Col8deNoviembre?mibextid=ZbWKwL" target="_blank"><img src="../images/Facebook.png"
        alt="Facebook" /></a>
  </div>
</body>

</html>